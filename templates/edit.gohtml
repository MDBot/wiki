{{- /*gotype: github.com/mdbot/wiki.EditPageArgs*/ -}}
{{template "header" .Common}}
<form action="/edit/{{.Common.PageTitle}}" method="post" class="editor">
    {{.Common.CsrfField}}

    <div class="form-group">
        <label for="content">Page content:</label>
        <textarea id="content" name="content" autofocus>{{.PageContent}}</textarea>
    </div>

    <div class="form-group">
        <label for="message">Message:</label>
        <input id="message" type="text" name="message">
    </div>

    <button type="submit" class="btn btn-primary" value="Edit">Submit</button>
</form>
<script src="/static/codemirror/lib/codemirror.js"></script>
<link rel="stylesheet" href="/static/codemirror/lib/codemirror.css">
<link rel="stylesheet" href="/static/codemirror/theme/monokai.css">
<script src="/static/codemirror/mode/gfm/gfm.js"></script>
<script src="/static/codemirror/mode/markdown/markdown.js"></script>
<script src="/static/codemirror/mode/xml/xml.js"></script>
<script src="/static/codemirror/mode/meta.js"></script>
<script src="/static/codemirror/addon/edit/continuelist.js"></script>
<script src="/static/codemirror/addon/mode/overlay.js"></script>
<script defer>
  document.addEventListener('DOMContentLoaded', function () {
    CodeMirror.fromTextArea(document.querySelector('textarea#content'), {
      theme: 'monokai',
      mode: 'gfm',
      extraKeys: {"Enter": "newlineAndIndentContinueMarkdownList"}
    })
  })
</script>
{{template "footer" .Common}}
